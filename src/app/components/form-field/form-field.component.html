<form
  [formGroup]="view === true ? viewFormGroup : submitFormGroup"
  *ngIf="view === true || submit === true"
>
  <h4>{{ formField.fieldTitle }}</h4>
  <input
    *ngIf="formField.fieldType === 'input'"
    type="text"
    pInputText
    class="w-max"
    size="small"
    [formControlName]="'fieldId_' + getString(formField.fieldId)"
    placeholder="Enter your text"
  />

  <!-- Date -->
  <input
    *ngIf="formField.fieldType === 'date' && view === true"
    type="text"
    pInputText
    class="w-max"
    size="small"
    [value]="
      formatDate(
        viewFormGroup.get('fieldId_' + getString(formField.fieldId))?.value
      )
    "
    disabled
  />
  <p-calendar
    *ngIf="formField.fieldType === 'date' && submit === true"
    [showIcon]="true"
    class="w-max"
    size="small"
    dateFormat="dd-M-yy"
    [formControlName]="'fieldId_' + getString(formField.fieldId)"
    placeholder="Select your date"
  />
</form>

<p-card *ngIf="edit === true">
  <ng-template pTemplate="header">
    <div class="header">
      <!-- Dropdown to select field type -->
      <p-dropdown
        class="fieldTypeDropdown"
        [options]="fieldTypes"
        [(ngModel)]="selectedFieldTypes"
        optionLabel="type"
        placeholder="Select a
      field type"
      />
    </div>
  </ng-template>

  <form [formGroup]="formGroup">
    <input
      type="text"
      pInputText
      class="w-max"
      size="small"
      [formControlName]="'fieldTitle'"
      placeholder="Write your question"
    />
  </form>

  <p-footer class="d-flex j-end gap">
    <p-button
      [label]="formField.fieldId >= 1 ? 'Update' : 'Create'"
      size="small"
      (onClick)="handleSave()"
      [disabled]="
        (formGroup.invalid || !formGroup.dirty) &&
        selectedFieldTypes.type === formField.fieldType
      "
    />
  </p-footer>
</p-card>
