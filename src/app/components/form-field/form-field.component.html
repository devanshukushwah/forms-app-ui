<form
  [formGroup]="view === true ? viewFormGroup : submitFormGroup"
  *ngIf="view === true || submit === true"
>
  <h4>
    {{ formField.fieldTitle }}
    <span
      *ngIf="isRequiredField('fieldId_' + getString(formField.fieldId))"
      class="required"
      >*</span
    >
  </h4>
  <input
    *ngIf="formField.fieldType === 'input'"
    type="text"
    pInputText
    class="w-max"
    size="small"
    [formControlName]="'fieldId_' + getString(formField.fieldId)"
    placeholder="Enter your text"
  />

  <!-- Date -->
  <input
    *ngIf="formField.fieldType === 'date' && view === true"
    type="text"
    pInputText
    class="w-max"
    size="small"
    [value]="
      formatDate(
        viewFormGroup.get('fieldId_' + getString(formField.fieldId))?.value
      )
    "
    disabled
  />
  <p-calendar
    *ngIf="formField.fieldType === 'date' && submit === true"
    [showIcon]="true"
    class="w-max"
    size="small"
    dateFormat="dd-M-yy"
    [formControlName]="'fieldId_' + getString(formField.fieldId)"
    placeholder="Select your date"
  />
  <div
    *ngIf="
      submit === true &&
      submitFormGroup.get('fieldId_' + getString(formField.fieldId))?.invalid &&
      submitFormGroup.get('fieldId_' + getString(formField.fieldId))?.touched
    "
    class="error-message"
  >
    This field is required!
  </div>
</form>

<form [formGroup]="formGroup">
  <p-card *ngIf="edit === true">
    <ng-template pTemplate="header">
      <div class="header">
        <div class="left">
          <!-- Dropdown to select field type -->
          <p-dropdown
            class="fieldTypeDropdown"
            [options]="fieldTypes"
            formControlName="fieldType"
          />
        </div>
        <div class="right">
          <p-toggleButton
            onLabel="Required"
            offLabel="Not Required"
            formControlName="required"
          ></p-toggleButton>
        </div>
      </div>
    </ng-template>

    <input
      type="text"
      pInputText
      class="w-max"
      size="small"
      [formControlName]="'fieldTitle'"
      placeholder="Write your question"
    />

    <p-footer class="d-flex j-end gap">
      <p-button
        [label]="formField.fieldId >= 1 ? 'Update' : 'Create'"
        size="small"
        (onClick)="handleSave()"
        [disabled]="formGroup.invalid || !formGroup.dirty"
      />
    </p-footer>
  </p-card>
</form>
